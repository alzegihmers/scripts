-- GUI Setup
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "ghetto's JS gui"

local Frame = Instance.new("Frame", ScreenGui)
Frame.Size = UDim2.new(0, 300, 0, 425)
Frame.Position = UDim2.new(0.5, -150, 0.5, -90)
Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Frame.BorderSizePixel = 0
Frame.BackgroundTransparency = 1

local frameCorner = Instance.new("UICorner", Frame)
frameCorner.CornerRadius = UDim.new(0, 10)

-- Top bar
local topBar = Instance.new("Frame", Frame)
topBar.Size = UDim2.new(1, 0, 0, 30)
topBar.Position = UDim2.new(0, 0, 0, 0)
topBar.BackgroundColor3 = Color3.fromRGB(85, 0, 0)
topBar.BorderSizePixel = 0
topBar.BackgroundTransparency = 1
topBar.ZIndex = 2

local topBarCorner = Instance.new("UICorner", topBar)
topBarCorner.CornerRadius = UDim.new(0, 10)

-- Tween fade-in
local fadeInTweenInfo = TweenInfo.new(0.75, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
local fadeInTweenGoal = { BackgroundTransparency = 0.10 }

local function createFadeInTween(guiElement)
	local tween = TweenService:Create(guiElement, fadeInTweenInfo, fadeInTweenGoal)
	tween:Play()
end

createFadeInTween(Frame)
createFadeInTween(topBar)

-- Remove Cooldown Button
local removeCooldownBtn = Instance.new("TextButton", Frame)
removeCooldownBtn.Size = UDim2.new(1, -10, 0, 50)
removeCooldownBtn.Position = UDim2.new(0, 5, 0, 50)
removeCooldownBtn.Text = "Remove Cooldown"
removeCooldownBtn.BackgroundColor3 = Color3.fromRGB(85, 0, 0)
removeCooldownBtn.TextColor3 = Color3.new(1, 1, 1)
removeCooldownBtn.BackgroundTransparency = 1

local removeCooldownBtnCorner = Instance.new("UICorner", removeCooldownBtn)
removeCooldownBtnCorner.CornerRadius = UDim.new(0, 5)

createFadeInTween(removeCooldownBtn)

-- Expand Hitbox Button
local expandHitboxBtn = Instance.new("TextButton", Frame)
expandHitboxBtn.Size = UDim2.new(1, -10, 0, 50)
expandHitboxBtn.Position = UDim2.new(0, 5, 0, 195)
expandHitboxBtn.Text = "Increase Hitbox"
expandHitboxBtn.BackgroundColor3 = Color3.fromRGB(85, 0, 0)
expandHitboxBtn.TextColor3 = Color3.new(1, 1, 1)
expandHitboxBtn.BackgroundTransparency = 1

local expandHitboxBtnCorner = Instance.new("UICorner", expandHitboxBtn)
expandHitboxBtnCorner.CornerRadius = UDim.new(0, 5)

createFadeInTween(expandHitboxBtn)

-- Exit Button
local exitBtn = Instance.new("TextButton", topBar)
exitBtn.Size = UDim2.new(0, 30, 0, 30)
exitBtn.Position = UDim2.new(1, -30, 0, 0)
exitBtn.Text = "X"
exitBtn.BackgroundTransparency = 1
exitBtn.TextColor3 = Color3.new(1, 1, 1)
exitBtn.TextSize = 20
exitBtn.Font = Enum.Font.SourceSans
exitBtn.ZIndex = 3

exitBtn.MouseEnter:Connect(function()
	exitBtn.TextColor3 = Color3.fromRGB(255, 100, 100)
end)

exitBtn.MouseLeave:Connect(function()
	exitBtn.TextColor3 = Color3.new(1, 1, 1)
end)

exitBtn.MouseButton1Click:Connect(function()
	ScreenGui:Destroy()
end)

local UserInputService = game:GetService("UserInputService")

local dragging
local dragInput
local dragStart
local startPos

Frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1 then
		dragging = true
		dragStart = input.Position
		startPos = Frame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

UserInputService.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement then
		dragInput = input
	end

	if dragging and input == dragInput then
		local delta = input.Position - dragStart
		Frame.Position = UDim2.new(
			startPos.X.Scale, startPos.X.Offset + delta.X,
			startPos.Y.Scale, startPos.Y.Offset + delta.Y
		)
	end
end)

-- Hitbox Adjuster Title
local hitboxLabel = Instance.new("TextLabel", Frame)
hitboxLabel.Size = UDim2.new(1, -10, 0, 25)
hitboxLabel.Position = UDim2.new(0, 5, 0, 110)
hitboxLabel.Text = "Hitbox Size"
hitboxLabel.BackgroundTransparency = 1
hitboxLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
hitboxLabel.TextScaled = true
hitboxLabel.Font = Enum.Font.SourceSans

createFadeInTween(hitboxLabel)

-- Hitbox Adjuster Controls
local leftArrow = Instance.new("TextButton", Frame)
leftArrow.Size = UDim2.new(0, 30, 0, 30)
leftArrow.Position = UDim2.new(0, 5, 0, 145)
leftArrow.Text = "<"
leftArrow.BackgroundColor3 = Color3.fromRGB(85, 0, 0)
leftArrow.TextColor3 = Color3.new(1, 1, 1)
leftArrow.BackgroundTransparency = 1

local centerBox = Instance.new("TextBox", Frame)
centerBox.Size = UDim2.new(0, 80, 0, 30)
centerBox.Position = UDim2.new(0, 40, 0, 145)
centerBox.Text = "1"
centerBox.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
centerBox.TextColor3 = Color3.new(1, 1, 1)
centerBox.BackgroundTransparency = 0.2
centerBox.ClearTextOnFocus = false
centerBox.TextScaled = true
centerBox.Font = Enum.Font.SourceSans

local rightArrow = Instance.new("TextButton", Frame)
rightArrow.Size = UDim2.new(0, 30, 0, 30)
rightArrow.Position = UDim2.new(0, 125, 0, 145)
rightArrow.Text = ">"
rightArrow.BackgroundColor3 = Color3.fromRGB(85, 0, 0)
rightArrow.TextColor3 = Color3.new(1, 1, 1)
rightArrow.BackgroundTransparency = 1

local resetBtn = Instance.new("TextButton", Frame)
resetBtn.Size = UDim2.new(0, 60, 0, 30)
resetBtn.Position = UDim2.new(0, 165, 0, 145)
resetBtn.Text = "Reset"
resetBtn.BackgroundColor3 = Color3.fromRGB(85, 0, 0)
resetBtn.TextColor3 = Color3.new(1, 1, 1)
resetBtn.BackgroundTransparency = 1

for _, btn in pairs({leftArrow, centerBox, rightArrow, resetBtn}) do
	createFadeInTween(btn)
end

-- Hitbox value logic
local hitboxSize = 1
local function updateHitboxBox()
	centerBox.Text = tostring(hitboxSize)
end

leftArrow.MouseButton1Click:Connect(function()
	hitboxSize = math.max(1, hitboxSize - 1)
	updateHitboxBox()
end)

rightArrow.MouseButton1Click:Connect(function()
	hitboxSize += 1
	updateHitboxBox()
end)

resetBtn.MouseButton1Click:Connect(function()
	hitboxSize = 1
	updateHitboxBox()
end)

centerBox.FocusLost:Connect(function(enterPressed)
	local val = tonumber(centerBox.Text)
	if val and val >= 1 then
		hitboxSize = math.floor(val)
	else
		centerBox.Text = tostring(hitboxSize)
	end
end)

-- Cooldown Options Title
local cooldownLabel = Instance.new("TextLabel", Frame)
cooldownLabel.Size = UDim2.new(1, -10, 0, 25)
cooldownLabel.Position = UDim2.new(0, 5, 0, 250)
cooldownLabel.Text = "Cooldown Options"
cooldownLabel.BackgroundTransparency = 1
cooldownLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
cooldownLabel.TextScaled = true
cooldownLabel.Font = Enum.Font.SourceSans

createFadeInTween(cooldownLabel)

-- Cooldown Toggle Buttons
local selectedCooldowns = {}
local cooldownOptions = {
	{ Name = "Moves", Y = 285 },
	{ Name = "Dash", Y = 325 },
	{ Name = "Ultimate", Y = 365 },
}

for _, opt in ipairs(cooldownOptions) do
	local btn = Instance.new("TextButton", Frame)
	btn.Name = opt.Name
	btn.Size = UDim2.new(1, -10, 0, 35)
	btn.Position = UDim2.new(0, 5, 0, opt.Y)
	btn.Text = opt.Name
	btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
	btn.TextColor3 = Color3.new(1, 1, 1)
	btn.BackgroundTransparency = 0.2

	local corner = Instance.new("UICorner", btn)
	corner.CornerRadius = UDim.new(0, 6)

	createFadeInTween(btn)

	btn.MouseButton1Click:Connect(function()
		if selectedCooldowns[opt.Name] then
			selectedCooldowns[opt.Name] = nil
			btn.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
		else
			selectedCooldowns[opt.Name] = true
			btn.BackgroundColor3 = Color3.fromRGB(85, 0, 0)
		end
	end)
end
